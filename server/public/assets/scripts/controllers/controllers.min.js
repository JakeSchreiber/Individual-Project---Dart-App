/*! angular_routing_lecture_build 2015-11-16 */
myApp.controller("AnotherController",["$scope","$http",function(a,b){console.log("Another Controller"),a.thing="Here is another thing",a.getStats=function(){b.get("/stats").then(function(b){a.stats=b.data,console.log(a.stats)})},a.getStats()}]),myApp.controller("DartController",["$scope","$http",function(a,b){function c(){d()}function d(){function b(){a.score=501,a.roundScore=0,a.dartsRemaining=3,a.scoreForAverage=0,a.roundAverage=0,a.dart1=0,a.dart2=0,a.dart3=0,a.ton=0,a.ton40=0,a.ton80=0,a.hatTrick=0,a.deadEye=0,a.dartsThrown=0,a.dartAverage=0,a.bust=0}function c(){3==a.dartArray.length&&(a.roundScore=a.dartArray[0]+a.dartArray[1]+a.dartArray[2]),2==a.dartArray.length&&(a.roundScore=a.dartArray[0]+a.dartArray[1]),1==a.dartArray.length&&(a.roundScore=a.dartArray[0])}function d(){a.roundScore=0,a.dartsRemaining=3,a.dartArray=[],a.dart1=0,a.dart2=0,a.dart3=0}function e(){0==a.score&&(alert("Game complete"),i(),g()),a.score<0&&(alert("BUST!"),a.score+=a.roundScore,d())}function f(){a.dartAverage=parseFloat(a.scoreForAverage/a.dartsThrown).toFixed(2)}function g(){a.roundAverage=parseFloat(a.scoreForAverage/(a.dartsThrown/3)).toFixed(2)}function h(){25!==a.dart1&&50!==a.dart1||25!==a.dart2&&50!==a.dart2||25!==a.dart3&&50!==a.dart3||a.hatTrick++,50===a.dart1&&50===a.dart2&&50===a.dart3&&a.deadEye++}function i(){a.roundScore>=100&&a.roundScore<140&&a.ton++,a.roundScore>=140&&a.roundScore<180&&a.ton40++,180==a.roundScore&&a.ton80++}null==a.score&&b(),a.changeValue=function(b){a.value=b,a.dartArray.push(b),a.dartsRemaining--,a.score-=a.value,a.scoreForAverage+=a.value,console.log(a.scoreForAverage),a.dart1=a.dartArray[0],a.dart2=a.dartArray[1],a.dart3=a.dartArray[2],a.dartsThrown++,h(),e(),f(),c(),0==a.dartsRemaining&&(confirm("Round Score: "+a.roundScore+". Remove Darts")===!0?(a.roundArray.push(a.roundScore),i(),d(),g()):(a.score+=a.roundScore,a.dartsThrown=a.dartsThrown-3,d()))}}console.log("Dart Controller"),a.postStats=function(){b.post("/data").then(function(b){a.postStats(),console.log(b)})},a.dartArray=[],a.roundArray=[],a.score=null,c()}]);